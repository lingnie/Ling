{"ast":null,"code":"var _jsxFileName = \"/Users/ling/Desktop/OneCareer/SignUp/2-call-api-b2c/SPA/src/pages/TodoList.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { MsalAuthenticationTemplate } from '@azure/msal-react';\nimport { InteractionType } from '@azure/msal-browser';\nimport { ListView } from '../components/ListView';\nimport { loginRequest, protectedResources } from \"../authConfig\";\nimport useFetchWithMsal from '../hooks/useFetchWithMsal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TodoListContent = () => {\n  _s();\n  const {\n    error,\n    execute\n  } = useFetchWithMsal({\n    scopes: protectedResources.apiTodoList.scopes.read\n  });\n  const [todoListData, setTodoListData] = useState(null);\n  useEffect(() => {\n    if (!todoListData) {\n      execute(\"GET\", protectedResources.apiTodoList.endpoint).then(response => {\n        setTodoListData(response);\n      });\n    }\n  }, [execute, todoListData]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: todoListData ? /*#__PURE__*/_jsxDEV(ListView, {\n      todoListData: todoListData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 30\n    }, this) : null\n  }, void 0, false);\n};\n\n/**\n * The `MsalAuthenticationTemplate` component will render its children if a user is authenticated\n * or attempt to sign a user in. Just provide it with the interaction type you would like to use\n * (redirect or popup) and optionally a request object to be passed to the login API, a component to display while\n * authentication is in progress or a component to display if an error occurs. For more, visit:\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/getting-started.md\n */\n_s(TodoListContent, \"3qNoup23oY0NWzUXggGKjZIko08=\", false, function () {\n  return [useFetchWithMsal];\n});\n_c = TodoListContent;\nexport const TodoList = () => {\n  const authRequest = {\n    ...loginRequest\n  };\n  return /*#__PURE__*/_jsxDEV(MsalAuthenticationTemplate, {\n    interactionType: InteractionType.Redirect,\n    authenticationRequest: authRequest,\n    children: /*#__PURE__*/_jsxDEV(TodoListContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_c2 = TodoList;\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoListContent\");\n$RefreshReg$(_c2, \"TodoList\");","map":{"version":3,"names":["useEffect","useState","MsalAuthenticationTemplate","InteractionType","ListView","loginRequest","protectedResources","useFetchWithMsal","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoListContent","_s","error","execute","scopes","apiTodoList","read","todoListData","setTodoListData","endpoint","then","response","children","message","fileName","_jsxFileName","lineNumber","columnNumber","_c","TodoList","authRequest","interactionType","Redirect","authenticationRequest","_c2","$RefreshReg$"],"sources":["/Users/ling/Desktop/OneCareer/SignUp/2-call-api-b2c/SPA/src/pages/TodoList.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { MsalAuthenticationTemplate } from '@azure/msal-react';\nimport { InteractionType } from '@azure/msal-browser';\n\nimport { ListView } from '../components/ListView';\nimport { loginRequest, protectedResources } from \"../authConfig\";\nimport useFetchWithMsal from '../hooks/useFetchWithMsal';\n\nconst TodoListContent = () => {\n    const { error, execute } = useFetchWithMsal({\n        scopes: protectedResources.apiTodoList.scopes.read,\n    });\n\n    const [todoListData, setTodoListData] = useState(null);\n\n    useEffect(() => {\n        if (!todoListData) {\n            execute(\"GET\", protectedResources.apiTodoList.endpoint).then((response) => {\n                setTodoListData(response);\n            });\n        }\n    }, [execute, todoListData])\n\n    if (error) {\n        return <div>Error: {error.message}</div>;\n    }\n\n    return <>{todoListData ? <ListView todoListData={todoListData} /> : null}</>;\n};\n\n/**\n * The `MsalAuthenticationTemplate` component will render its children if a user is authenticated\n * or attempt to sign a user in. Just provide it with the interaction type you would like to use\n * (redirect or popup) and optionally a request object to be passed to the login API, a component to display while\n * authentication is in progress or a component to display if an error occurs. For more, visit:\n * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-react/docs/getting-started.md\n */\nexport const TodoList = () => {\n    const authRequest = {\n        ...loginRequest,\n    };\n\n    return (\n        <MsalAuthenticationTemplate \n            interactionType={InteractionType.Redirect} \n            authenticationRequest={authRequest}\n        >\n            <TodoListContent />\n        </MsalAuthenticationTemplate>\n    );\n};\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,0BAA0B,QAAQ,mBAAmB;AAC9D,SAASC,eAAe,QAAQ,qBAAqB;AAErD,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,YAAY,EAAEC,kBAAkB,QAAQ,eAAe;AAChE,OAAOC,gBAAgB,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGR,gBAAgB,CAAC;IACxCS,MAAM,EAAEV,kBAAkB,CAACW,WAAW,CAACD,MAAM,CAACE;EAClD,CAAC,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACmB,YAAY,EAAE;MACfJ,OAAO,CAAC,KAAK,EAAET,kBAAkB,CAACW,WAAW,CAACI,QAAQ,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;QACvEH,eAAe,CAACG,QAAQ,CAAC;MAC7B,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACR,OAAO,EAAEI,YAAY,CAAC,CAAC;EAE3B,IAAIL,KAAK,EAAE;IACP,oBAAOL,OAAA;MAAAe,QAAA,GAAK,SAAO,EAACV,KAAK,CAACW,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC5C;EAEA,oBAAOpB,OAAA,CAAAE,SAAA;IAAAa,QAAA,EAAGL,YAAY,gBAAGV,OAAA,CAACL,QAAQ;MAACe,YAAY,EAAEA;IAAa;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAAG;EAAI,gBAAG,CAAC;AAChF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AANAhB,EAAA,CAtBMD,eAAe;EAAA,QACUL,gBAAgB;AAAA;AAAAuB,EAAA,GADzClB,eAAe;AA6BrB,OAAO,MAAMmB,QAAQ,GAAGA,CAAA,KAAM;EAC1B,MAAMC,WAAW,GAAG;IAChB,GAAG3B;EACP,CAAC;EAED,oBACII,OAAA,CAACP,0BAA0B;IACvB+B,eAAe,EAAE9B,eAAe,CAAC+B,QAAS;IAC1CC,qBAAqB,EAAEH,WAAY;IAAAR,QAAA,eAEnCf,OAAA,CAACG,eAAe;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAErC,CAAC;AAACO,GAAA,GAbWL,QAAQ;AAAA,IAAAD,EAAA,EAAAM,GAAA;AAAAC,YAAA,CAAAP,EAAA;AAAAO,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}